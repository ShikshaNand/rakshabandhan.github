<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Raksha Bandhan Wishes 2025</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Poppins:wght@400;600;700&family=Tiro+Devanagari+Hindi&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; overflow-x: hidden; }
        .font-lobster { font-family: 'Lobster', cursive; }
        .font-hindi { font-family: 'Tiro Devanagari Hindi', serif; }

        /* Background and Animation Styles */
      

        .wish-page-active {
            background-image: url('background1.jpeg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        /* Keyframes */
        /* UPDATED: New keyframe for the intro animation */
        @keyframes fastZoomIn { from { transform: scale(1); } to { transform: scale(1.05); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes popIn { 0% { opacity: 0; transform: scale(0.5); } 100% { opacity: 1; transform: scale(1); } }
        @keyframes fall { to { transform: translateY(105vh) rotate(360deg); opacity: 0; } }
        @keyframes slideInFromLeftFast { from { transform: translateX(-100%); } to { transform: translateX(0); } }
        @keyframes slideInFromRightFast { from { transform: translateX(100%); } to { transform: translateX(0); } }
        @keyframes rakhiZoomOut { from { transform: scale(1.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        /* Animation Classes */
        .animate-fadeIn { animation: fadeIn 1s ease-out forwards; }
        .animate-fadeInUp { animation: fadeInUp 1s ease-out forwards; }
        .animate-popIn { animation: popIn 0.8s ease-out forwards; }
        
        /* Falling Particles Styles */
        .particle-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; }
        .particle { position: absolute; top: -50px; animation: fall linear infinite; }
    </style>
</head>
<body class="bg-gray-200">
    
    <!-- INTRO SCREEN -->
    <div id="introScreen"></div>

    <!-- PRE-WISH ANIMATION CONTAINER -->
    <div id="preWishAnimationContainer" class="fixed inset-0 bg-gradient-to-br from-pink-300 via-purple-300 to-indigo-400 flex flex-col items-center justify-center z-50 hidden">
        <div id="handsAnimation" class="relative w-full h-64 flex items-center justify-center">
            <img id="girlHand" src="hand1.png" class="absolute h-48 md:h-64" style="transform: translateX(-100vw);">
            <img id="boyHand" src="hand.png" class="absolute h-48 md:h-64" style="transform: translateX(100vw);">
        </div>
        <div id="rakhiZoomAnimation" class="hidden">
            <img src="rakhi.png" class="h-48 md:h-64">
        </div>
    </div>
    
    <div id="tapToRevealScreen" class="fixed inset-0 bg-black/70 flex flex-col items-center justify-center z-40 hidden cursor-pointer animate-fadeIn">
        <h1 class="font-lobster text-4xl text-white animate-pulse">Tap to see your message!</h1>
        <p id="musicIndicator" class="text-white/80 mt-2">(Music will play)</p>
    </div>

    <div id="audioContainer">
        <audio class="sister-audio" src="behan.mp3" preload="auto" loop></audio>
        <audio class="sister-audio" src="behan1.mp3" preload="auto" loop></audio>
        <audio class="sister-audio" src="behan2.mp3" preload="auto" loop></audio>
        <audio class="sister-audio" src="behan3.mp3" preload="auto" loop></audio>
        <audio class="sister-audio" src="behan4.mp3" preload="auto" loop></audio>
        
        <audio class="brother-audio" src="bhai.mp3" preload="auto" loop></audio>
        <audio class="brother-audio" src="bhai1.mp3" preload="auto" loop></audio>
        <audio class="brother-audio" src="bhai2.mp3" preload="auto" loop></audio>
        <audio class="brother-audio" src="bhai3.mp3" preload="auto" loop></audio>
        <audio class="brother-audio" src="bhai4.mp3" preload="auto" loop></audio>
    </div>


    <!-- MAIN CONTENT CONTAINER -->
    <div class="min-h-screen flex items-center justify-center p-4 relative z-10">
        <div class="w-full max-w-lg mx-auto">

            <!-- SELECTION SCREEN -->
            <div id="selectionScreen" class="text-center text-white hidden animate-fadeIn">
                <h1 class="font-hindi text-3xl md:text-4xl font-bold mb-8 text-shadow">आप किसके लिए शुभकामनाएं बनाना चाहते हैं?</h1>
                <div class="flex flex-col sm:flex-row justify-center items-center gap-8">
                    <div id="selectSister" class="cursor-pointer group text-center">
                        <img src="sister.png" alt="Sister" class="w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white transform group-hover:scale-110 transition-transform duration-300 shadow-lg">
                        <h2 class="font-lobster text-2xl mt-4">Behan (Sister)</h2>
                    </div>
                    <div id="selectBrother" class="cursor-pointer group text-center">
                        <img src="brother.png" alt="Brother" class="w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white transform group-hover:scale-110 transition-transform duration-300 shadow-lg">
                        <h2 class="font-lobster text-2xl mt-4">Bhai (Brother)</h2>
                    </div>
                </div>
            </div>
            
            <!-- FORM CONTAINER -->
            <div id="formContainer" class="bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl p-6 md:p-8 text-center hidden">
                <h1 id="formTitle" class="font-lobster text-4xl md:text-5xl text-pink-600"></h1>
                <form id="wishForm" class="space-y-4 mt-6">
                    <div>
                        <label for="senderName" class="block text-left text-gray-700 font-semibold mb-1">आपका नाम (Your Name)</label>
                        <input type="text" id="senderName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-400" required>
                    </div>
                    <div>
                        <label id="recipientLabel" for="recipientName" class="block text-left text-gray-700 font-semibold mb-1"></label>
                        <input type="text" id="recipientName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-400" required>
                    </div>
                    <div class="pt-4 border-t">
                        <label for="customMessage" class="block text-left text-gray-700 font-semibold mb-1">Personal Sandesh (Optional)</label>
                        <textarea id="customMessage" class="w-full p-2 border border-gray-300 rounded-lg" rows="3" placeholder="Yahan apna personal sandesh likhein..."></textarea>
                        <div class="flex items-center justify-around mt-3">
                            <div class="flex items-center">
                                <input type="checkbox" id="addRandomQuote" class="h-4 w-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500" checked>
                                <label for="addRandomQuote" class="ml-2 block text-sm text-gray-700">Random Quote?</label>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="addMusic" class="h-4 w-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500" checked>
                                <label for="addMusic" class="ml-2 block text-sm text-gray-700">Music Shamil Karein?</label>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="w-full bg-pink-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-pink-700 active:scale-95 transition-transform">Create Wish Link</button>
                </form>
                <div id="generatedLinkContainer" class="mt-6 pt-4 border-t hidden">
                     <h2 class="text-lg font-semibold text-gray-800">आपका लिंक तैयार है!</h2>
                     <div class="flex items-center space-x-2">
                        <input type="text" id="generatedLink" class="w-full bg-gray-100 px-3 py-2 border rounded-lg text-sm" readonly>
                        <button id="copyButton" class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600 active:scale-95">कॉपी</button>
			<button id="shareButton" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 active:scale-95 hidden">Share</button>
                     </div>
                </div>
            </div>

            <!-- WISH CONTAINER -->
            <div id="wishContainer" class="relative bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl p-4 md:p-8 text-center hidden overflow-hidden">
                <div class="particle-container"></div>
                
                <div class="relative w-full h-24">
                     <img src="brother1.png" alt="Brother" class="absolute top-0 left-0 w-20 h-20 md:w-24 md:h-24 opacity-80">
                     <img src="sister1.png" alt="Sister" class="absolute top-0 right-0 w-20 h-20 md:w-24 md:h-24 opacity-80">
                </div>
                
                <h1 id="wishTitle" class="font-lobster text-4xl md:text-5xl text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-violet-500 mt-2 animate-fadeInDown"></h1>
                
                <div class="space-y-4 mt-4 px-2">
                    <p id="customWishMessage" class="font-hindi text-lg md:text-xl text-gray-800 animate-fadeInUp" style="animation-delay: 0.5s; line-height: 1.7;"></p>
                    <p id="randomWishMessage" class="font-hindi text-base md:text-lg text-gray-600 animate-fadeInUp" style="animation-delay: 0.7s; line-height: 1.6;"></p>
                </div>
                
                <p id="fromMessage" class="mt-6 text-xl md:text-2xl text-purple-800 font-semibold animate-fadeInUp font-lobster" style="animation-delay: 0.9s;"></p>
                <div class="mt-8 animate-fadeInUp" style="animation-delay: 1.2s;">
                    <a id="createOwnWishButton" href="#" class="bg-purple-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-purple-700 transition-all shadow-lg">अपनी विश खुद बनाएं</a>
                </div>

                <div class="mt-8 pt-4 border-t border-gray-200 text-center animate-fadeInUp" style="animation-delay: 1.4s;">
                    <p class="text-xs text-gray-500">Created by S.N.M.</p>
                    <p class="text-xs text-gray-500">For feedback, message on Instagram: 
                        <a href="https://www.instagram.com/shiksha_nand_mehra" target="_blank" class="text-pink-500 hover:underline">shiksha_nand_mehra</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const body = document.body;
        const introScreen = document.getElementById('introScreen');
        const preWishAnimationContainer = document.getElementById('preWishAnimationContainer');
        const selectionScreen = document.getElementById('selectionScreen');
        const formContainer = document.getElementById('formContainer');
        const wishContainer = document.getElementById('wishContainer');
        const selectSister = document.getElementById('selectSister');
        const selectBrother = document.getElementById('selectBrother');
        const wishForm = document.getElementById('wishForm');
        const generatedLinkContainer = document.getElementById('generatedLinkContainer');
        const generatedLinkInput = document.getElementById('generatedLink');
        const copyButton = document.getElementById('copyButton');
	const shareButton = document.getElementById('shareButton');
        const tapToRevealScreen = document.getElementById('tapToRevealScreen');
        
        let selectedRelation = '';

        // Wish Messages
        const sisterWishes = [ "मेरी प्यारी बहना, तुम मेरी जिंदगी की सबसे बड़ी ताकत हो। तुम्हारा प्यार और साथ ही मेरी हिम्मत है। इस रक्षा बंधन पर वादा करता हूँ कि हमेशा तुम्हारी रक्षा करूँगा। ❤️", "To the one who has seen me at my best and worst, thank you for always being there. You're not just my sister, you're my forever friend. Happy Raksha Bandhan! ✨", "बचपन की वो खट्टी-मीठी यादें, वो लड़ना-झगड़ना और फिर एक हो जाना... तुम्हारे बिना सब अधूरा है। दुनिया की सबसे अच्छी बहन को रक्षा बंधन की बधाई! 🤗", "A bond of love, a thread of trust. On this Rakhi, I just want to say, you're the best sister, come what may. Happy Rakhi! 🎉", "फूलों का तारों का सबका कहना है, एक हज़ारों में मेरी बहना है। सारी उमर हमें संग रहना है। हैप्पी रक्षा बंधन! 🌈", "बहन का प्यार किसी दुआ से कम नहीं होता, वो चाहे दूर भी हो तो गम नहीं होता। अक्सर रिश्ते दूरियों से फीके पड़ जाते हैं, पर भाई-बहन का प्यार कभी कम नहीं होता। Miss you, sis! 🤗", "Happy Raksha Bandhan to my childhood leg-puller, my lovely sister, my darling friend and the one who will always be my favorite person. 💖", "याद है हमारा वो बचपन, वो लड़ना-झगड़ना और मनाना, यही होता है भाई-बहन का प्यार, और इसी प्यार को बढ़ाने आ गया है रक्षा बंधन का त्यौहार। 🥳", "You are the one who has always been there for me, through thick and thin. This Rakhi is a reminder of how much you mean to me. Happy Rakhi! 😊", "सबसे प्यारी मेरी बहना, सुख में दुःख में साथ रहना, जीवन की खुशियां है तुमसे, तुम हो तो फिर क्या कहना। रक्षा बंधन की शुभकामनाएं! 🥰", "We might be miles apart, but this Rakhi, I want you to know that you are always in my heart. Sending you lots of love and hugs. Happy Raksha Bandhan! 💌", "तेरी-मेरी बनती नहीं, पर तेरे बिना मेरी चलती भी नहीं। Happy Rakhi, my sweet sister! 😜", "To my sister, my first friend, my constant support: I am lucky to have you. Wishing you a very happy and prosperous Raksha Bandhan. 🌟", "रेशम की डोरी फूलों का हार, सावन में आया राखी का त्योहार, बहन की खुशी में भाई का प्यार, मुबारक हो आपको रक्षाबंधन का त्योहार। 🎊", "I may not say it every day, but you are the most special person in my life. Thank you for everything you do. Happy Rakhi! 🙏", "आज का दिन बहुत खास है, मेरी बहना मेरे पास है, तेरे स्नेह और विश्वास के आगे, हर रिश्ता फीका है। ❤️", "No matter how old we get, I'll always be your big brother, looking out for you. Happy Raksha Bandhan! 🤗", "Sometimes being a brother is even better than being a superhero. Happy Raksha Bandhan! 💪", "You are my best friend, my human diary, and my other half. You mean the world to me and I wish you a very happy Rakhi! 💖", "This Rakhi, I promise to always be your partner in crime and your protector from all harms. Happy Raksha Bandhan, behna! ✨" ];
        const brotherWishes = [ "मेरे प्यारे भाई, तुम मेरी ताकत हो और मेरा सहारा भी। यह राखी का धागा नहीं, मेरी दुआ है जो तुम्हें हर मुश्किल से बचाएगी। हैप्पी रक्षा बंधन भैया! 🙏", "I pray to God that our bond of love continues to grow stronger with each passing year. You are the best brother in the world! Thank you for being my personal bodyguard and ATM. 😉 Happy Raksha Bandhan!  ", "कच्चे धागों से बनी पक्की डोर है राखी, प्यार और मीठी शरारतों की होड़ है राखी, भाई की लंबी उम्र की दुआ है राखी, बहन के प्यार का पवित्र बंधन है राखी। 🎉", "Thank you for being my protector, my mentor, and my biggest cheerleader. I am so lucky to have you as my brother. Happy Rakhi! 😊", "तोड़े से भी ना टूटे, यह ऐसा मन बंधन है, इस बंधन को सारी दुनिया कहती रक्षा बंधन है। आपको रक्षा बंधन की हार्दिक शुभकामनाएं भैया। 💌", "I know I fight with you a lot, but today is the day to tell you that you mean the world to me. Thanks for being my partner in crime. Happy Raksha Bandhan, Bro! 😜", "You are the one who has always been there for me, through thick and thin. This Rakhi is a reminder of how much you mean to me. Happy Rakhi! 🤗", "भाई, तुम मेरे दोस्त भी हो और सबसे बड़े दुश्मन भी। तुम्हारे बिना जिंदगी बोरिंग होगी। Happy Rakhi! 😂", "This Rakhi is not just a thread, it's a promise of a sister's love and prayers for her brother's well-being. May you always be happy and successful. 🙏", "चंदन की लकड़ी, फूलों का हार, अगस्त का महीना, सावन की फुहार, भैया की कलाई, बहन का प्यार, मुबारक हो आपको रक्षा बंधन का त्यौहार। 🎊", "No matter how far you are, my love and prayers will always be with you. Wishing you a very Happy Raksha Bandhan, bhai! ❤️", "Having a brother like you is like having a best friend for life. Thanks for making my life easy and fun. Happy Rakhi! ✨", "You are the reason for my smiles and the one who makes my life beautiful. A very happy Raksha Bandhan to my dearest brother. 🥰", "I may not show it, but I secretly admire you and all that you do. You are my inspiration. Happy Rakhi, bhaiya! 🌟", "This thread of Rakhi is a symbol of my love and a prayer for your long life. May you achieve everything you desire. Happy Raksha Bandhan! 🙏", "साथ पले और साथ बढ़े हैं, खूब मिला बचपन में प्यार, भाई-बहन का प्यार बढ़ाने, आया राखी का त्यौहार। Happy Rakhi! 💖", "You are the lock to my key, the secret keeper, and the one I can always count on. Happy Raksha Bandhan to the best brother ever! 🤗", "May this Rakhi bring you all the happiness and success you deserve. Always stay blessed, my dear brother. 🎉", "I feel so blessed to have a brother as loving and caring as you. You are my superhero! Happy Rakhi! 💪", "The memories of our childhood are like a treasure to me. I can't imagine my life without you. Happy Raksha Bandhan! 😊" ];
        
        // --- Music Function ---
        function playMusic(relation) {
            document.querySelectorAll('audio').forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });

            const audioElements = (relation === 'sister') 
                ? document.querySelectorAll('.sister-audio') 
                : document.querySelectorAll('.brother-audio');
            
            if (audioElements.length > 0) {
                const randomIndex = Math.floor(Math.random() * audioElements.length);
                const audioToPlay = audioElements[randomIndex];
                
                let playPromise = audioToPlay.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.error("Audio play failed:", error);
                    });
                }
            }
        }

        // --- Main Functions ---
        function startSelectionProcess() {
            introScreen.classList.add('blur');
            introScreen.style.zIndex = '0'; 
            selectionScreen.classList.remove('hidden');
        }

        function showForm(relation) {
            selectedRelation = relation;
            selectionScreen.classList.add('hidden');
            formContainer.classList.remove('hidden');
            formContainer.classList.add('animate-fadeIn');
            const formTitle = document.getElementById('formTitle');
            const recipientLabel = document.getElementById('recipientLabel');
            if (relation === 'sister') {
                formTitle.textContent = 'Wish Your Sister';
                recipientLabel.textContent = "Behan ka Naam (Sister's Name)";
            } else {
                formTitle.textContent = 'Wish Your Brother';
                recipientLabel.textContent = "Bhai ka Naam (Brother's Name)";
            }
        }

        function createFallingParticles() {
            const particleContainer = document.querySelector('.particle-container');
            if (!particleContainer) return;
            const items = ['rakhi1.png', 'sweet.png'];
            const particleCount = 40;
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('img');
                particle.src = items[i % items.length];
                particle.className = 'particle';
                particle.style.left = `${Math.random() * 100}vw`;
                particle.style.width = `${Math.random() * 20 + 20}px`;
                particle.style.height = 'auto';
                particle.style.animationDuration = `${Math.random() * 7 + 5}s`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                particleContainer.appendChild(particle);
            }
        }

        function runPreWishAnimation(callback) {
            preWishAnimationContainer.classList.remove('hidden');
            const girlHand = document.getElementById('girlHand');
            const boyHand = document.getElementById('boyHand');
            const handsAnimation = document.getElementById('handsAnimation');
            const rakhiZoomAnimation = document.getElementById('rakhiZoomAnimation');

            girlHand.style.animation = 'slideInFromLeftFast 1s ease-out forwards';
            boyHand.style.animation = 'slideInFromRightFast 1s ease-out forwards';

            setTimeout(() => {
                handsAnimation.style.display = 'none';
                rakhiZoomAnimation.classList.remove('hidden');
                rakhiZoomAnimation.style.animation = 'rakhiZoomOut 1.5s ease-out forwards';
            }, 1000);

            setTimeout(() => {
                preWishAnimationContainer.style.transition = 'opacity 0.5s';
                preWishAnimationContainer.style.opacity = '0';
                setTimeout(() => {
                    preWishAnimationContainer.classList.add('hidden');
                    callback();
                }, 500);
            }, 2500);
        }

        function showWish() {
            const params = new URLSearchParams(window.location.search);
            const sender = params.get('sender');
            const recipient = params.get('recipient');
            const relation = params.get('relation');
            const customMsg = params.get('custom_msg');
            const addQuote = params.get('addQuote');
            const addMusic = params.get('addMusic');

            if (sender && recipient && relation) {
                introScreen.style.display = 'none';
                selectionScreen.style.display = 'none';
                formContainer.style.display = 'none';
                body.className = 'wish-page-active';
                
                const senderName = decodeURIComponent(sender);
                const recipientName = decodeURIComponent(recipient);
                
                const wishTitle = document.getElementById('wishTitle');
                const customWishMessage = document.getElementById('customWishMessage');
                const randomWishMessage = document.getElementById('randomWishMessage');
                const fromMessage = document.getElementById('fromMessage');
                const musicIndicator = document.getElementById('musicIndicator');
                
                if (customMsg) {
                    customWishMessage.innerHTML = decodeURIComponent(customMsg).replace(/\n/g, '<br>');
                } else {
                    customWishMessage.style.display = 'none';
                }
                
                if (addQuote === 'true') {
                    const messages = relation === 'sister' ? sisterWishes : brotherWishes;
                    randomWishMessage.textContent = messages[Math.floor(Math.random() * messages.length)];
                } else {
                    randomWishMessage.style.display = 'none';
                }
                
                if (relation === 'sister') {
                    wishTitle.innerHTML = `Happy Rakhi, <span class="text-pink-500">${recipientName}</span>!`;
                } else {
                    wishTitle.innerHTML = `Happy Rakhi, <span class="text-pink-500">${recipientName} Bhaiya</span>!`;
                }
                
                fromMessage.textContent = `With Love, ${senderName}`;
                document.getElementById('createOwnWishButton').href = window.location.href.split('?')[0];
                
                if (addMusic === 'true') {
                    musicIndicator.style.display = 'block';
                } else {
                    musicIndicator.style.display = 'none';
                }

                runPreWishAnimation(() => {
                    tapToRevealScreen.classList.remove('hidden');
                });
            } else {
                body.className = 'bg-gray-200';
                setTimeout(startSelectionProcess, 1500);
            }
        }

        // --- Event Listeners ---
        selectSister.addEventListener('click', () => showForm('sister'));
        selectBrother.addEventListener('click', () => showForm('brother'));
        
        wishForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const senderName = document.getElementById('senderName').value;
            const recipientName = document.getElementById('recipientName').value;
            const customMessage = document.getElementById('customMessage').value;
            const addRandomQuote = document.getElementById('addRandomQuote').checked;
            const addMusic = document.getElementById('addMusic').checked;
            
            const baseUrl = window.location.href.split('?')[0];
            let wishLink = `${baseUrl}?sender=${encodeURIComponent(senderName)}&recipient=${encodeURIComponent(recipientName)}&relation=${selectedRelation}&addQuote=${addRandomQuote}&addMusic=${addMusic}`;
            if (customMessage) {
                wishLink += `&custom_msg=${encodeURIComponent(customMessage)}`;
            }
            generatedLinkInput.value = wishLink;
            generatedLinkContainer.classList.remove('hidden');
	if (navigator.share) {
                shareButton.classList.remove('hidden');
            }
        });
        
        tapToRevealScreen.addEventListener('click', () => {
            tapToRevealScreen.classList.add('hidden');
            const params = new URLSearchParams(window.location.search);
            const relation = params.get('relation');
            const addMusic = params.get('addMusic');
            
            if (addMusic === 'true') {
                playMusic(relation);
            }
            wishContainer.classList.remove('hidden');
            createFallingParticles();
        }, { once: true });

        copyButton.addEventListener('click', () => {
            generatedLinkInput.select();
            generatedLinkInput.setSelectionRange(0, 99999);
            document.execCommand('copy');
            copyButton.textContent = 'Copied!';
            setTimeout(() => { copyButton.textContent = 'कॉपी'; }, 2000);
        });
	shareButton.addEventListener('click', async () => {
            const link = generatedLinkInput.value;
            const sender = document.getElementById('senderName').value;
            const shareData = {
                title: 'A Special Rakhi Wish!',
                text: `${sender} has sent you a special Raksha Bandhan message! ✨`,
                url: link,
            };
            try {
                await navigator.share(shareData);
            } catch (err) {
                console.error('Share failed:', err);
            }
        });

        window.onload = showWish;
    </script>
</body>
</html>
 